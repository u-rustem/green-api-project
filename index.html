<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>GREEN-API Test Page</title>
    <style>
        /* Add your CSS styles here */
    </style>
    <script>
        async function apiCall(url, method = 'GET', body = null) {
            const options = {
                method: method,
                headers: {
                    'Content-Type': 'application/json'
                },
            };
            if (body) {
                options.body = JSON.stringify(body);
            }
            const response = await fetch(url, options);
            const data = await response.json();
            document.getElementById('response').textContent = JSON.stringify(data, null, 2);
        }

        function getSettings() {
            const idInstance = document.getElementById('idInstance').value;
            const apiTokenInstance = document.getElementById('apiTokenInstance').value;
            const url = `https://api.green-api.com/waInstance${idInstance}/getSettings/${apiTokenInstance}`;
            apiCall(url);
        }

        function getStateInstance() {
            const idInstance = document.getElementById('idInstance').value;
            const apiTokenInstance = document.getElementById('apiTokenInstance').value;
            const url = `https://api.green-api.com/waInstance${idInstance}/getStateInstance/${apiTokenInstance}`;
            apiCall(url);
        }

        function sendMessage() {
            const idInstance = document.getElementById('idInstance').value;
            const apiTokenInstance = document.getElementById('apiTokenInstance').value;
            const chatId = document.getElementById('chatId').value;
            const message = document.getElementById('message').value;
            const url = `https://api.green-api.com/waInstance${idInstance}/sendMessage/${apiTokenInstance}`;
            const body = {
                chatId: `${chatId}@c.us`,
                message: message
            };
            apiCall(url, 'POST', body);
        }

        function sendFileByUrl() {
            const idInstance = document.getElementById('idInstance').value;
            const apiTokenInstance = document.getElementById('apiTokenInstance').value;
            const chatId = document.getElementById('chatId').value;
            const urlFile = document.getElementById('urlFile').value;
            const fileName = urlFile.split('/').pop();
            const url = `https://api.green-api.com/waInstance${idInstance}/sendFileByUrl/${apiTokenInstance}`;
            const body = {
                chatId: `${chatId}@c.us`,
                urlFile: urlFile,
                fileName: fileName
            };
            apiCall(url, 'POST', body);
        }
    </script>
</head>
<body>
    <div>
        <label for="idInstance">idInstance:</label>
        <input type="text" id="idInstance" value="7103952863">
    </div>
    <div>
        <label for="apiTokenInstance">ApiTokenInstance:</label>
        <input type="text" id="apiTokenInstance" value="85fb7cfa95254a9185e0939e2b18d426189e19f19d8740de9d">
    </div>
    <div>
        <button onclick="getSettings()">getSettings</button>
    </div>
    <div>
        <button onclick="getStateInstance()">getStateInstance</button>
    </div>
    <div>
        <label for="chatId">Chat ID:</label>
        <input type="text" id="chatId">
    </div>
    <div>
        <label for="message">Message:</label>
        <input type="text" id="message">
    </div>
    <div>
        <button onclick="sendMessage()">sendMessage</button>
    </div>
    <div>
        <label for="urlFile">File URL:</label>
        <input type="text" id="urlFile">
    </div>
    <div>
        <button onclick="sendFileByUrl()">sendFileByUrl</button>
    </div>
    <pre id="response"></pre>
</body>
</html>
